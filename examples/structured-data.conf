# Structured Data Configuration
# Add metadata to log messages using RFC 5424 structured data

[Network]
Address=192.168.1.100:514
Protocol=tcp

# Must use RFC 5424 for structured data support
LogFormat=rfc5424

# Option 1: Static structured data applied to all messages
# Format: [SD-ID@PEN field1="value1" field2="value2"]
# SD-ID: Your identifier
# PEN: Private Enterprise Number (use a unique number, or 0 for testing)
StructuredData=[app@12345 environment="production" region="us-east" cluster="web-01"]

# Option 2: Extract structured data from journal entries
# Applications can add SYSLOG_STRUCTURED_DATA field when logging
UseSysLogStructuredData=yes

# Option 3: Extract message ID from journal
# Applications can add SYSLOG_MSGID field
UseSysLogMsgId=yes

# Example: How to log with structured data from your application
#
# C example:
#   sd_journal_send(
#       "MESSAGE=User action",
#       "SYSLOG_MSGID=USER_LOGIN",
#       "SYSLOG_STRUCTURED_DATA=[auth@12345 user=\"alice\" ip=\"1.2.3.4\" result=\"success\"]",
#       NULL
#   );
#
# Result:
#   <34>1 2024-01-20T10:30:15Z hostname app 1234 USER_LOGIN [auth@12345 user="alice" ip="1.2.3.4" result="success"] User action
